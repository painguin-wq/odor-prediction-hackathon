# Предсказание Запаха Вещества по Структуре (Хакатон Thothex)

Проект решает задачу предсказания запаховых свойств молекул по их структуре (SMILES). Набор кода включает подготовку данных, вычисление молекулярных дескрипторов и фингерпринтов, обучение моделей и генерацию предсказаний для тестовой выборки.

## Структура репозитория

- `data/`
  - `raw/` — исходные наборы (train/test, дополнительные файлы)
  - `processed/` — предобработанные данные и результаты (csv)
  - `cache/` — вспомогательные кеши и примеры SMILES
- `notebooks/` — Jupyter-ноутбуки с этапами пайплайна
  - `1_data_preparation.ipynb` — подготовка и очистка данных
  - `2_test_preprocessing.ipynb` — вычисление дескрипторов и фингерпринтов
  - `3_modeling.ipynb` — обучение и валидация моделей
  - `4_clusters_part1.ipynb`, `5_clusters_part2.ipynb`, `6_final_clusterization.ipynb` — кластеризация
  - `artifacts/` — сохранённые артефакты (scaler, pca, json)
- `models/` — сохранённые модели (по желанию)
- `submissions/` — примеры сабмитов для соревнования
- `notebooks/odor-prediction-hackathon/` — вспомогательная копия исходного репозитория и артефакты

## Требования

Файл `requirements.txt` содержит список зависимостей. Рекомендуется использовать виртуальное окружение (venv/conda).

### Пример установки

```bash
python -m venv .venv
source .venv/bin/activate
pip install -r requirements.txt
```

## Запуск и воспроизведение

1. Подготовьте данные: положите исходные CSV в `data/raw/` или используйте существующие файлы в `data/processed/`.
2. Запустите ноутбук `1_data_preparation.ipynb` для очистки и сохранения `processed/*.csv`.
3. Запустите `2_test_preprocessing.ipynb` для генерации дескрипторов (RDKit, Mordred при наличии), Morgan/Avalon фингерпринтов и сохранения артефактов.
4. Обучение и валидация — `3_modeling.ipynb`. Результаты и сохранённые модели — в `models/` и `submissions/`.

## Замечания

- RDKit обязателен для вычисления молекулярных признаков; Mordred опционален (в репозитории реализован fallback на RDKit).
- Если в данных есть некорректные SMILES, код заполняет места NaN и продолжает обработку.
- Артефакты (scaler, pca, json) сохраняются в `notebooks/artifacts/` и в корне `notebooks/artifacts/` в зависимости от запуска.

## Контакты

Автор: команда/участник хакатона. Для вопросов — используйте систему issue в репозитории.

## Лицензия

Код и данные используются в рамках хакатона; указывайте источник при повторном использовании.
